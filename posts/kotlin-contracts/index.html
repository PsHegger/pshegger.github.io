<!DOCTYPE html>
<html lang="en-us"><head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  





  
  
  
    
    
  





  



  
  

<link rel="stylesheet" href="https://pshegger.github.io/main.min.css" />
  
<meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
  

<title>Help Yourself and the Compiler with Contracts</title>


<meta name="author" content="pshegger">

<meta name="description" content="In the world of Kotlin, contracts represent a deal between the developer and the compiler. As a developer you can share insight of your code with the compiler and it can use this extra info for better code analysis.">
<link rel="canonical" href="https://pshegger.github.io/posts/kotlin-contracts/">
<meta property="og:locale" content="">
<meta property="og:type" content="article">
<meta property="og:title" content="Help Yourself and the Compiler with Contracts">
<meta property="og:description" content="In the world of Kotlin, contracts represent a deal between the developer and the compiler. As a developer you can share insight of your code with the compiler and it can use this extra info for better code analysis.">
<meta property="og:url" content="https://pshegger.github.io/posts/kotlin-contracts/">
<meta property="article:published_time" content="2019-03-21T00:00:00+01:00">
  <meta property="article:modified_time" content="2019-03-21T00:00:00+01:00">
  






  <meta name="twitter:site" content="pshegger">


  <meta name="twitter:creator" content="pshegger">

<meta name="twitter:title" content="Help Yourself and the Compiler with Contracts">
<meta name="twitter:description" content="In the world of Kotlin, contracts represent a deal between the developer and the compiler. As a developer you can share insight of your code with the compiler and it can use this extra info for better code analysis.">



  <meta name="twitter:card" content="summary">






<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "Person",
      "@id": "https://pshegger.github.io/#/schema/person/1",
      "name":  null ,
      "url": "https://pshegger.github.io/",
      "image": {
        "@type": "ImageObject",
        "@id": "https://pshegger.github.io/#/schema/image/1",
        "url": "https://pshegger.github.io/\u003cnil\u003e",
        "width": null ,
        "height": null ,
        "caption":  null 
      }
    },
    {
      "@type": "WebSite",
      "@id": "https://pshegger.github.io/#/schema/website/1",
      "url": "https://pshegger.github.io/",
      "name": "pshegger",
      "description":  null ,
      "publisher": {
        "@id": "https://pshegger.github.io/#/schema/person/1"
      }
    },
    {
      "@type": "WebPage",
      "@id": "https://pshegger.github.io/posts/kotlin-contracts/",
      "url": "https://pshegger.github.io/posts/kotlin-contracts/",
      "name": "Help Yourself and the Compiler with Contracts",
      "description": "In the world of Kotlin, contracts represent a deal between the developer and the compiler. As a developer you can share insight of your code with the compiler and it can use this extra info for better code analysis.",
      "isPartOf": {
        "@id": "https://pshegger.github.io/#/schema/website/1"
      },
      "about": {
        "@id": "https://pshegger.github.io/#/schema/person/1"
      },
      "datePublished": "2019-03-21T00:00:00+01:00",
      "dateModified": "2019-03-21T00:00:00+01:00",
      "breadcrumb": {
        "@id": "https://pshegger.github.io/posts/kotlin-contracts/#/schema/breadcrumb/1"
      },
      "primaryImageOfPage": {
        "@id": "https://pshegger.github.io/posts/kotlin-contracts/#/schema/image/2"
      },
      "inLanguage":  null ,
      "potentialAction": [{
        "@type": "ReadAction", "target": ["https://pshegger.github.io/posts/kotlin-contracts/"]
      }]
    },
    {
      "@type": "BreadcrumbList",
      "@id": "https://pshegger.github.io/posts/kotlin-contracts/#/schema/breadcrumb/1",
      "name": "Breadcrumbs",
      "itemListElement": [{
        "@type": "ListItem",
        "position":  1 ,
        "item": {
          "@type": "WebPage",
          "@id": "https://pshegger.github.io/",
          "url": "https://pshegger.github.io/",
          "name": "Home"
          }
        },{
        "@type": "ListItem",
        "position":  2 ,
        "item": {
          "@type": "WebPage",
          "@id": "https://pshegger.github.io/posts/",
          "url": "https://pshegger.github.io/posts/",
          "name": "Posts"
          }
        },{
        "@type": "ListItem",
        "position":  3 ,
        "item": {
          "@id": "https://pshegger.github.io/posts/kotlin-contracts/"
          }
        }]
    },
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "Article",
          "@id": "https://pshegger.github.io/#/schema/article/1",
          "headline": "Help Yourself and the Compiler with Contracts",
          "description": "In the world of Kotlin, contracts represent a deal between the developer and the compiler. As a developer you can share insight of your code with the compiler and it can use this extra info for better code analysis.",
          "isPartOf": {
            "@id": "https://pshegger.github.io/posts/kotlin-contracts/"
          },
          "mainEntityOfPage": {
            "@id": "https://pshegger.github.io/posts/kotlin-contracts/"
          },
          "datePublished": "2019-03-21T00:00:00+01:00",
          "dateModified": "2019-03-21T00:00:00+01:00",
          "author": {
            "@id": "https://pshegger.github.io/#/schema/person/1"
          },          
          "publisher": {
            "@id": "https://pshegger.github.io/#/schema/person/1"
          },
          "image": {
            "@id": "https://pshegger.github.io/posts/kotlin-contracts/#/schema/image/2"
          }
        }
      ]
    },{
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "ImageObject",
          "@id": "https://pshegger.github.io/posts/kotlin-contracts/#/schema/image/2",
          "url":  null ,
          "contentUrl":  null ,
          "caption": "Help Yourself and the Compiler with Contracts"
        }
      ]
    }
  ]
}
</script>
  

  

</head><body>
    <header class="container">
  <nav class="main-nav" id="js-navbar">
    <a class="logo" href="https://pshegger.github.io/">pshegger</a>
    <ul class="menu" id="js-menu">
      
      
      
        <li class="menu-item">
          <a href="/about/" class="menu-link">About</a>
        </li>
      
      
      
        <li class="menu-item">
          <a href="/posts/" class="menu-link">All Posts</a>
        </li>
      
      
      
      <li class="menu-item">
        <span class="menu-link">Explore<span class="drop-icon">â–¾</span></span>
        <ul class="sub-menu">
          
            <li class="menu-item">
              <a href="/categories/" class="menu-link">Categories</a>                  
            </li>
          
            <li class="menu-item">
              <a href="/tags/" class="menu-link">Tags</a>                  
            </li>
          
            <li class="menu-item">
              <a href="/series/" class="menu-link">Series</a>                  
            </li>
          
        </ul>
      </li>
      
      
      <li class="menu-item--align">
        <div class="switch">
          <input class="switch-input" type="checkbox" id="themeSwitch">
          <label aria-hidden="true" class="switch-label" for="themeSwitch">On</label>
          <div aria-hidden="true" class="switch-marker"></div>
        </div>
      </li>
    </ul>
    <span class="nav-toggle" id="js-navbar-toggle">
      <svg xmlns="http://www.w3.org/2000/svg" id="Outline" viewBox="0 0 24 24" width="30" height="30" fill="var(--color-contrast-high)"><rect y="11" width="24" height="2" rx="1"/><rect y="4" width="24" height="2" rx="1"/><rect y="18" width="24" height="2" rx="1"/></svg>
    </span>
  </nav>
</header><main class="section">
<div class="container">
  <section class="page-header">
    <h1 class="page-header-title">Help Yourself and the Compiler with Contracts</h1>
    <div class="post-list-meta">
      <div class="post-list-dates">Mar 21, 2019&nbsp;&middot;&nbsp;5 min.</div>
      
      <div class="post-list-categories">
        
          <a href="https://pshegger.github.io/categories/kotlin/">kotlin</a>
        
      </div>
      
      
    </div>
    <p class="page-header-desc">In the world of Kotlin, contracts represent a deal between the developer and the compiler. As a developer you can share insight of your code with the compiler and it can use this extra info for better code analysis.</p>
    <div class="single-terms">
      
      
      <a class="term" href="https://pshegger.github.io/tags/programming/">programming</a></li>
      
      <a class="term" href="https://pshegger.github.io/tags/kotlin/">kotlin</a></li>
      
      <a class="term" href="https://pshegger.github.io/tags/contracts/">contracts</a></li>
      
      
    </div>
  </section>
</div>
<div class="single-container-post">
  

  <aside class="toc">
    <div id="js-toc-toggle">
      <h2 class="toc-header">Table of Contents</h2>
      <span class="toc-drop-icon">&blacktriangledown;</span>
    </div>
    <div id="js-toc-contents" class="toc-contents"><nav id="TableOfContents">
  <ul>
    <li><a href="#what-are-contracts">What are contracts?</a></li>
    <li><a href="#basic-usage">Basic usage</a></li>
    <li><a href="#callsinplace">callsInPlace</a></li>
    <li><a href="#returnsimplies">returns/implies</a></li>
    <li><a href="#a-few-things-to-keep-in-mind">A few things to keep in mind</a></li>
  </ul>
</nav></div>
  </aside>

  <div class="single-post-contents">
    <div class="single-feature-img">



  

</div>
    <article class="markdown">
        <h2 id="what-are-contracts">What are contracts?<a href="#what-are-contracts">
    <svg role="img" aria-labelledby="what-are-contracts-IconTitle" fill="var(--color-primary)" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
      <title id="what-are-contracts-IconTitle">Link to this heading</title>
      <path d="M0 0h24v24H0z" fill="none"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg>
  </a>
</h2><p>In the world of Kotlin, contracts represent a deal between the developer and the compiler. As a developer you can share insight of your code with the compiler and it can use this extra info for better code analysis.</p>
<p>Currently there are two kinds of contracts available: <code>callsInPlace</code> which tells the compiler how many times a lambda is called, and <code>returns</code>/<code>implies</code> which indicates that a defined condition is true if the function returns a specific value.</p>
<h2 id="basic-usage">Basic usage<a href="#basic-usage">
    <svg role="img" aria-labelledby="basic-usage-IconTitle" fill="var(--color-primary)" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
      <title id="basic-usage-IconTitle">Link to this heading</title>
      <path d="M0 0h24v24H0z" fill="none"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg>
  </a>
</h2><p>In order to write contracts for your own functions you have to keep in mind a few things. First of all this feature is experimental in Kotlin 1.3, so you have to annotate your functions with <code>@ExperimentalContracts</code>. These functions also have to be top-level functions or your code will fail to compile.</p>
<p>With these in mind let&rsquo;s see how a function with a contract looks like:</p>


  <span class="code-language">kotlin</span><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#a6e22e">@ExperimentalContracts</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">foo</span>() {
</span></span><span style="display:flex;"><span>    contract {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// your contract definition
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// some other code
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}</span></span></code></pre></div>
<p>To write the actual definition we will be using the Contract DSL.</p>
<h2 id="callsinplace">callsInPlace<a href="#callsinplace">
    <svg role="img" aria-labelledby="callsinplace-IconTitle" fill="var(--color-primary)" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
      <title id="callsinplace-IconTitle">Link to this heading</title>
      <path d="M0 0h24v24H0z" fill="none"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg>
  </a>
</h2><p>Let&rsquo;s take a look at the following example: you want to put a delay in your code, but the value and the unit is stored separately. You decide to write a function which reads the values and passes them back using a lambda.</p>


  <span class="code-language">kotlin</span><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">readDelay</span>(callback: (Long, TimeUnit) <span style="color:#f92672">-&gt;</span> Unit) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">val</span> value = readDelayValue()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">val</span> unit = readDelayUnit()
</span></span><span style="display:flex;"><span>    callback(<span style="color:#66d9ef">value</span>, unit)
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>You would like to store the values for later use so you create variables for them:</p>


  <span class="code-language">kotlin</span><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">val</span> delayValue: Long
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">val</span> delayUnit: TimeUnit
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>readDelay { <span style="color:#66d9ef">value</span>, unit <span style="color:#f92672">-&gt;</span>
</span></span><span style="display:flex;"><span>    delayValue = <span style="color:#66d9ef">value</span>
</span></span><span style="display:flex;"><span>    delayUnit = unit
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Thread</span>.sleep(delayUnit.toMillis(delayValue))</span></span></code></pre></div>
<p>The problem is that this code will not compile because the compiler has no idea how many times the lambda will be called. If it&rsquo;s not called at all the two variables would be uninitialized and if it&rsquo;s called more than once they would be reassigned, which is forbidden. Luckily we have <code>callsInPlace</code> which is exactly what we need now. Let&rsquo;s modify our reader function:</p>


  <span class="code-language">kotlin</span><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#a6e22e">@ExperimentalContracts</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">readDelay</span>(callback: (Long, TimeUnit) <span style="color:#f92672">-&gt;</span> Unit) {
</span></span><span style="display:flex;"><span>    contract {
</span></span><span style="display:flex;"><span>        callsInPlace(callback, <span style="color:#a6e22e">InvocationKind</span>.EXACTLY_ONCE)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">val</span> value = readDelayValue()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">val</span> unit = readDelayUnit()
</span></span><span style="display:flex;"><span>    callback(<span style="color:#66d9ef">value</span>, unit)
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>The main logic is the same as before, but we added a contract to our function. This tells the compiler that the lambda will be called exactly once (<code>InvocationKind.EXACTLY_ONCE</code>). With that knowledge the compiler will know that the variables will be initialized and will not be reassigned.</p>
<p>There are 3 other possible invocation kinds: <code>AT_MOST_ONCE</code> (the lambda will be called once or not at all), <code>AT_LEAST_ONCE</code> (it will be called one or more times) and <code>UNKNOWN</code> (it will be called, but we don&rsquo;t know how many times).</p>
<h2 id="returnsimplies">returns/implies<a href="#returnsimplies">
    <svg role="img" aria-labelledby="returnsimplies-IconTitle" fill="var(--color-primary)" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
      <title id="returnsimplies-IconTitle">Link to this heading</title>
      <path d="M0 0h24v24H0z" fill="none"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg>
  </a>
</h2><p>The other type of contract we can write tells the compiler that a specific condition is true if the function returns with the specified value. Let&rsquo;s take a look at the following code:</p>


  <span class="code-language">kotlin</span><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#a6e22e">@ExperimentalContracts</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">String</span><span style="color:#f92672">?.</span>isValid(): Boolean {
</span></span><span style="display:flex;"><span>    contract {
</span></span><span style="display:flex;"><span>        returns(<span style="color:#66d9ef">true</span>) implies (<span style="color:#66d9ef">this</span><span style="color:#a6e22e">@isValid</span> <span style="color:#66d9ef">is</span> String)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#66d9ef">this</span>.length &gt; <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>We can see that other kind of contract in this example, but what does it exactly do? To understand it better let&rsquo;s break it down to pieces. The first part (<code>returns(true)</code>) indicates that the contract applies when this function returns <code>true</code> as its result, and the second part tells the compiler what to expect from it. In this case it indicates that the particular <code>String?</code> instance we&rsquo;re calling this function on is in fact a <code>String</code> and in reality it&rsquo;s not nullable. From this the compiler knows that if the function returns <code>true</code> it&rsquo;s safe to smart-case the instance to a non-nullable type. This is how it looks when we try to use it:</p>


  <span class="code-language">kotlin</span><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-kotlin" data-lang="kotlin"><span style="display:flex;"><span><span style="color:#66d9ef">val</span> result: String? = getResult()
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (result.isValid()) {
</span></span><span style="display:flex;"><span>    println(<span style="color:#e6db74">&#34;The length of the result is </span><span style="color:#e6db74">${result.length}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>As you can see we didn&rsquo;t have to use <code>String?.length</code>, because <code>result</code> has been smart-casted to <code>String</code>. Without the contract we would either had to check for nullability in the <code>if</code> expression or use the safe call operator (<code>?.</code>).</p>
<p>Currently there are 3 types of return state indicators: <code>returns</code> (without any argument) expresses that the function returned successfully, <code>returns(Any?)</code> (currently only <code>true</code>, <code>false</code> and <code>null</code> is supported) expresses that the function returned successfully with the given value and <code>returnsNotNull</code> which expresses that the returned value is not null. The syntax is the same for all 3 types: <code>*type* implies *expression*</code>.</p>
<h2 id="a-few-things-to-keep-in-mind">A few things to keep in mind<a href="#a-few-things-to-keep-in-mind">
    <svg role="img" aria-labelledby="a-few-things-to-keep-in-mind-IconTitle" fill="var(--color-primary)" height="22" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg">
      <title id="a-few-things-to-keep-in-mind-IconTitle">Link to this heading</title>
      <path d="M0 0h24v24H0z" fill="none"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg>
  </a>
</h2><p>When writing your contracts there are a few things to keep in mind. First of all, contracts are not verified, which means that you can write a function with a wrong contract and this may lead to unexpected errors at <strong>runtime</strong>.</p>
<p>The other important thing to remember is that contracts are an experimental feature in Kotlin 1.3 and because of that the syntax may change in the future, so you might want to wait until its stable release to use it in production.</p>
<hr>
<p>This post was originally published on <a href="https://www.kotlindevelopment.com/" target="_blank" rel="noopener">kotlindevelopment.com</a>. If you liked it please consider visiting and reading some other articles there.</p>

    </article>
    <aside>
      <div class="single-terms">
        
          
          <a class="term" href="https://pshegger.github.io/tags/programming/">programming</a></li>
          
          <a class="term" href="https://pshegger.github.io/tags/kotlin/">kotlin</a></li>
          
          <a class="term" href="https://pshegger.github.io/tags/contracts/">contracts</a></li>
          
        
      </div>
      
  
  
  

  <section>
    <h2>Share</h2>
    <div class="social-links">
      <ul class="social-icons--share">
        
        
        <a href="https://twitter.com/intent/tweet?url=https%3a%2f%2fpshegger.github.io%2fposts%2fkotlin-contracts%2f&amp;text=Help%20Yourself%20and%20the%20Compiler%20with%20Contracts" target="_blank" rel="noopener" aria-label="Share on Twitter" class="social-btn twitter">
          <li><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-twitter" width="24" height="24" viewBox="0 0 384 312" fill="var(--color-primary)"><path d="m384 36.9c-14.1 6.3-29.3 10.5-45.2 12.4 16.3-9.7 28.8-25.2 34.6-43.6-15.2 9-32.1 15.6-50 19.1-14.4-15.2-34.9-24.8-57.5-24.8-43.5 0-78.8 35.3-78.8 78.8 0 6.2.7 12.2 2 17.9-65.5-3.3-123.5-34.6-162.4-82.3-6.7 11.6-10.6 25.2-10.6 39.6 0 27.3 13.9 51.4 35 65.6-12.9-.4-25.1-4-35.7-9.9v1c0 38.2 27.2 70 63.2 77.2-6.6 1.8-13.6 2.8-20.8 2.8-5.1 0-10-.5-14.8-1.4 10 31.3 39.1 54.1 73.6 54.7-27 21.1-60.9 33.7-97.8 33.7-6.4 0-12.6-.4-18.8-1.1 34.9 22.4 76.3 35.4 120.8 35.4 144.9 0 224.1-120 224.1-224.1 0-3.4-.1-6.8-.2-10.2 15.4-11.1 28.7-25 39.3-40.8z"/></svg></li>
        </a>
        
        
        
        <a href="https://www.reddit.com/submit?url=https%3a%2f%2fpshegger.github.io%2fposts%2fkotlin-contracts%2f" target="_blank" rel="noopener" aria-label="Share on Reddit" class="social-btn reddit">
          <li><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-reddit" width="24" height="24" viewBox="0 0 24 24" fill="var(--color-primary)"><path d="M24 11.779c0-1.459-1.192-2.645-2.657-2.645-.715 0-1.363.286-1.84.746-1.81-1.191-4.259-1.949-6.971-2.046l1.483-4.669 4.016.941-.006.058c0 1.193.975 2.163 2.174 2.163 1.198 0 2.172-.97 2.172-2.163s-.975-2.164-2.172-2.164c-.92 0-1.704.574-2.021 1.379l-4.329-1.015c-.189-.046-.381.063-.44.249l-1.654 5.207c-2.838.034-5.409.798-7.3 2.025-.474-.438-1.103-.712-1.799-.712-1.465 0-2.656 1.187-2.656 2.646 0 .97.533 1.811 1.317 2.271-.052.282-.086.567-.086.857 0 3.911 4.808 7.093 10.719 7.093s10.72-3.182 10.72-7.093c0-.274-.029-.544-.075-.81.832-.447 1.405-1.312 1.405-2.318zm-17.224 1.816c0-.868.71-1.575 1.582-1.575.872 0 1.581.707 1.581 1.575s-.709 1.574-1.581 1.574-1.582-.706-1.582-1.574zm9.061 4.669c-.797.793-2.048 1.179-3.824 1.179l-.013-.003-.013.003c-1.777 0-3.028-.386-3.824-1.179-.145-.144-.145-.379 0-.523.145-.145.381-.145.526 0 .65.647 1.729.961 3.298.961l.013.003.013-.003c1.569 0 2.648-.315 3.298-.962.145-.145.381-.144.526 0 .145.145.145.379 0 .524zm-.189-3.095c-.872 0-1.581-.706-1.581-1.574 0-.868.709-1.575 1.581-1.575s1.581.707 1.581 1.575-.709 1.574-1.581 1.574z"/></svg></li>
        </a>
        
        
                
        <a href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fpshegger.github.io%2fposts%2fkotlin-contracts%2f" target="_blank" rel="noopener" aria-label="Share on Facebook" class="social-btn facebook">
          <li><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-facebook" width="24" height="24" viewBox="0 0 352 352" fill="var(--color-primary)"><path d="m0 32v288c0 17.5 14.5 32 32 32h288c17.5 0 32-14.5 32-32v-288c0-17.5-14.5-32-32-32h-288c-17.5 0-32 14.5-32 32zm320 0v288h-83v-108h41.5l6-48h-47.5v-31c0-14 3.5-23.5 23.5-23.5h26v-43.5c-4.4-.6-19.8-1.5-37.5-1.5-36.9 0-62 22.2-62 63.5v36h-42v48h42v108h-155v-288z"/></svg></li>
        </a>
        
        
        
        <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fpshegger.github.io%2fposts%2fkotlin-contracts%2f&amp;source=https%3a%2f%2fpshegger.github.io%2fposts%2fkotlin-contracts%2f&amp;title=Help%20Yourself%20and%20the%20Compiler%20with%20Contracts&amp;summary=Help%20Yourself%20and%20the%20Compiler%20with%20Contracts" target="_blank" rel="noopener" aria-label="Share on LinkedIn" class="social-btn linkedin">
          <li><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-linkedin" width="24" height="24" viewBox="0 0 352 352" fill="var(--color-primary)"><path d="M0,40v272c0,21.9,18.1,40,40,40h272c21.9,0,40-18.1,40-40V40c0-21.9-18.1-40-40-40H40C18.1,0,0,18.1,0,40z M312,32 c4.6,0,8,3.4,8,8v272c0,4.6-3.4,8-8,8H40c-4.6,0-8-3.4-8-8V40c0-4.6,3.4-8,8-8H312z M59.5,87c0,15.2,12.3,27.5,27.5,27.5 c15.2,0,27.5-12.3,27.5-27.5c0-15.2-12.3-27.5-27.5-27.5C71.8,59.5,59.5,71.8,59.5,87z M187,157h-1v-21h-45v152h47v-75 c0-19.8,3.9-39,28.5-39c24.2,0,24.5,22.4,24.5,40v74h47v-83.5c0-40.9-8.7-72-56.5-72C208.5,132.5,193.3,145.1,187,157z M64,288h47.5 V136H64V288z"/></svg></li>
        </a>
        
        
        
        <a href="mailto:?subject=pshegger%20-%20Help%20Yourself%20and%20the%20Compiler%20with%20Contracts.&amp;body=Help%20Yourself%20and%20the%20Compiler%20with%20Contracts%2c%20by%20pshegger%0aIn%20the%20world%20of%20Kotlin%2c%20contracts%20represent%20a%20deal%20between%20the%20developer%20and%20the%20compiler.%20As%20a%20developer%20you%20can%20share%20insight%20of%20your%20code%20with%20the%20compiler%20and%20it%20can%20use%20this%20extra%20info%20for%20better%20code%20analysis.%0a%0ahttps%3a%2f%2fpshegger.github.io%2fposts%2fkotlin-contracts%2f%0a" target="_blank" class="social-btn email">
          <li><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-mail" width="24" height="24" viewBox="0 0 416 288" fill="var(--color-primary)"><path d="m0 16v256 16h16 384 16v-16-256-16h-16-384-16zm347 16-139 92.5-139-92.5zm-148 125.5 9 5.5 9-5.5 167-111.5v210h-352v-210z"/></svg></li>
        </a>
      </ul>
    </div>
  </section>
  
        

  
  

        
  <section>
    <h2>Read Next</h2>
    <div class="single-next-previous">
      
      
        <a class="next" href="https://pshegger.github.io/posts/generate-for-me/">@GenerateForMe &raquo;</a>
      
    </div>
  </section>

      
    </aside>
  </div>
</div>

    </main><footer>
  
  <div class="section footer">
    <p class="footer-copyright">&copy; 2024 &middot; 
      <a href="https://pshegger.github.io/">pshegger</a>
      
    </p>
    
      <div class="footer-socials">
        
<div class="social-links">
  <ul class="social-icons">
    
    
    <li>
      <a href="https://twitter.com/pshegger" target="_blank" rel="noopener" aria-label="Visit Twitter profile" class="social-btn twitter">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-twitter" width="24" height="24" viewBox="0 0 384 312" fill="var(--color-primary)"><path d="m384 36.9c-14.1 6.3-29.3 10.5-45.2 12.4 16.3-9.7 28.8-25.2 34.6-43.6-15.2 9-32.1 15.6-50 19.1-14.4-15.2-34.9-24.8-57.5-24.8-43.5 0-78.8 35.3-78.8 78.8 0 6.2.7 12.2 2 17.9-65.5-3.3-123.5-34.6-162.4-82.3-6.7 11.6-10.6 25.2-10.6 39.6 0 27.3 13.9 51.4 35 65.6-12.9-.4-25.1-4-35.7-9.9v1c0 38.2 27.2 70 63.2 77.2-6.6 1.8-13.6 2.8-20.8 2.8-5.1 0-10-.5-14.8-1.4 10 31.3 39.1 54.1 73.6 54.7-27 21.1-60.9 33.7-97.8 33.7-6.4 0-12.6-.4-18.8-1.1 34.9 22.4 76.3 35.4 120.8 35.4 144.9 0 224.1-120 224.1-224.1 0-3.4-.1-6.8-.2-10.2 15.4-11.1 28.7-25 39.3-40.8z"/></svg>
      </a>
    </li>
    

    
    
    <li>
      <a href="https://github.com/pshegger" target="_blank" rel="noopener" aria-label="Visit Github profile" class="social-btn github">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-github" width="24" height="24" viewBox="0 0 24 24" fill="var(--color-primary)"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
      </a>
    </li>
    

    
    
    <li>
      <a href="https://stackoverflow.com/users/751482/pshegger" target="_blank" rel="noopener" aria-label="Visit Stack Overflow profile" class="social-btn stack-overflow">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-stack-overflow" width="24" height="24" viewBox="0 0 24 24" fill="var(--color-primary)"><path d="M15 21h-10v-2h10v2zm6-11.665l-1.621-9.335-1.993.346 1.62 9.335 1.994-.346zm-5.964 6.937l-9.746-.975-.186 2.016 9.755.879.177-1.92zm.538-2.587l-9.276-2.608-.526 1.954 9.306 2.5.496-1.846zm1.204-2.413l-8.297-4.864-1.029 1.743 8.298 4.865 1.028-1.744zm1.866-1.467l-5.339-7.829-1.672 1.14 5.339 7.829 1.672-1.14zm-2.644 4.195v8h-12v-8h-2v10h16v-10h-2z"/></svg>
      </a>
    </li>
    

    
    

    
    
    <li>
      <a href="mailto:?to=pshegger%40gmail.com" target="_blank" class="social-btn email">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-mail" width="24" height="24" viewBox="0 0 416 288" fill="var(--color-primary)"><path d="m0 16v256 16h16 384 16v-16-256-16h-16-384-16zm347 16-139 92.5-139-92.5zm-148 125.5 9 5.5 9-5.5 167-111.5v210h-352v-210z"/></svg>
      </a>
    </li>
    
  </ul>
</div>
      </div>
    
  </div>
</footer>

  








  
  
    

<script src="https://pshegger.github.io/main.min.js"></script>



  
<script async src="https://www.googletagmanager.com/gtag/js?id=G-NKBPT9CS94"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-NKBPT9CS94', { 'anonymize_ip': false });
}
</script>

</body>
</html>
